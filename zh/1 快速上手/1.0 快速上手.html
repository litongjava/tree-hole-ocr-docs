<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.9" />
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html,
      body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches
      if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
        document.documentElement.classList.toggle('dark', true)
      }
    </script>
    <title>快速上手 | 树洞OCR</title><meta name="description" content="开源免费的文字识别工具">
    <link rel="preload" href="/assets/style-DQ_wQnlu.css" as="style"><link rel="stylesheet" href="/assets/style-DQ_wQnlu.css">
    <link rel="modulepreload" href="/assets/app-NAMaFyPy.js"><link rel="modulepreload" href="/assets/1.0 快速上手.html-K7uSgBIT.js">
    <link rel="prefetch" href="/assets/index.html-S7bXZO61.js" as="script"><link rel="prefetch" href="/assets/index.html-7GnxdhkW.js" as="script"><link rel="prefetch" href="/assets/getting-started.html-ByWsKPL8.js" as="script"><link rel="prefetch" href="/assets/index.html-BpcSjrJq.js" as="script"><link rel="prefetch" href="/assets/404.html-Duvo3gey.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/zh/"><img class="logo" src="/logo.png" alt="树洞OCR"><span class="site-name can-hide" aria-hidden="true">树洞OCR</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide" aria-label="site navigation"><!--[--><div class="navbar-item"><a class="route-link" href="/" aria-label="Home"><!--[--><!--[--><!--]--> Home <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="route-link" href="/" aria-label="English"><!--[--><!--[--><!--]--> English <!--[--><!--]--><!--]--></a></li><li class="navbar-dropdown-item"><a class="route-link route-link-active" href="/" aria-label="zh-CN"><!--[--><!--[--><!--]--> zh-CN <!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items" aria-label="site navigation"><!--[--><div class="navbar-item"><a class="route-link" href="/" aria-label="Home"><!--[--><!--[--><!--]--> Home <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="route-link" href="/" aria-label="English"><!--[--><!--[--><!--]--> English <!--[--><!--]--><!--]--></a></li><li class="navbar-dropdown-item"><a class="route-link route-link-active" href="/" aria-label="zh-CN"><!--[--><!--[--><!--]--> zh-CN <!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">快速上手 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="#代码结构" aria-label="代码结构"><!--[--><!--[--><!--]--> 代码结构 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#使用javafx-maven-plugin-打包应用程序" aria-label="使用javafx-maven-plugin 打包应用程序"><!--[--><!--[--><!--]--> 使用javafx-maven-plugin 打包应用程序 <!--[--><!--]--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="#javafx-maven-plugin简介" aria-label="javafx-maven-plugin简介"><!--[--><!--[--><!--]--> javafx-maven-plugin简介 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#使用javafx-maven-plugin生成native" aria-label="使用javafx-maven-plugin生成native"><!--[--><!--[--><!--]--> 使用javafx-maven-plugin生成native <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="#使用javafx-的-jpackage-工具-打包应用程序" aria-label="使用JavaFX 的 jpackage 工具 打包应用程序"><!--[--><!--[--><!--]--> 使用JavaFX 的 jpackage 工具 打包应用程序 <!--[--><!--]--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="#_1-准备工作" aria-label="1. 准备工作"><!--[--><!--[--><!--]--> 1. 准备工作 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#安装wix3" aria-label="安装wix3"><!--[--><!--[--><!--]--> 安装wix3 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#_3-创建-javafx-jar" aria-label="3. 创建 JavaFX JAR"><!--[--><!--[--><!--]--> 3. 创建 JavaFX JAR <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#_4-使用-jpackage-创建-exe-文件" aria-label="4. 使用 jpackage 创建 .exe 文件"><!--[--><!--[--><!--]--> 4. 使用 jpackage 创建 .exe 文件 <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="快速上手" tabindex="-1"><a class="header-anchor" href="#快速上手"><span>快速上手</span></a></h1><h2 id="代码结构" tabindex="-1"><a class="header-anchor" href="#代码结构"><span>代码结构</span></a></h2><p>这是一个典型的 Maven 项目结构，其中：</p><ul><li><code>pom.xml</code>: 这是 Maven 的项目对象模型文件，它包含了项目的依赖、插件和其他配置信息。</li><li><code>src</code>: 这是源代码目录，通常包含主代码 (<code>src/main</code>) 和测试代码 (<code>src/test</code>)。</li></ul><p>从 <code>pom.xml</code> 文件的部分内容中，</p><ol><li>项目的 <code>groupId</code> 是 <code>com.luooqi</code>，而 <code>artifactId</code> 是 <code>tool-ocr</code>。这意味着该项目是由 <code>luooqi</code> 开发的一个名为 <code>tool-ocr</code> 的项目。</li><li>项目的版本信息由一个属性 <code>soft.version</code> 定义，其值为 <code>1.2.6</code>。</li><li>项目有几个依赖项，包括但不限于： <ul><li><code>jnativehook</code>：可能与键盘和鼠标挂钩有关，允许应用程序全局监听键盘和鼠标事件。</li><li><code>hutool-all</code>：Hutool 是一个 Java 工具包，包含了一些常用的 Java 功能模块。</li><li><code>imgscalr-lib</code>：这是一个简单的 Java 图片缩放库。</li></ul></li></ol><p>项目的 <code>src</code> 目录结构如下：</p><ol><li><p><strong>资源文件</strong>:</p><ul><li><code>main/deploy/package/macosx/</code> 和 <code>main/deploy/package/windows/</code>：这些似乎是针对不同操作系统的应用程序图标。</li><li><code>main/resources/</code>：包含了各种资源文件，如CSS、字体、图片等。</li></ul></li><li><p><strong>Java 文件</strong>:</p><ul><li><code>com.benjaminwan.ocrlibrary</code>：这个包似乎包含与OCR处理相关的类。</li><li><code>com.luooqi.ocr</code>：这是应用程序的主要包，其中 <code>MainFm.java</code> 可能是主类。</li><li><code>com.luooqi.ocr.controller</code>：包含应用程序的控制器类。</li><li><code>com.luooqi.ocr.local</code>：可能包含本地OCR功能的类。</li><li><code>com.luooqi.ocr.model</code>：包含应用程序的数据模型。</li><li><code>com.luooqi.ocr.snap</code>：似乎与屏幕截图功能有关。</li><li><code>com.luooqi.ocr.utils</code>：包含各种实用程序类。</li></ul></li><li><p><strong>测试文件</strong>:</p><ul><li><code>test/java/com/luooqi/ocr/utils/OcrUtilsTest.java</code>：一个针对 <code>OcrUtils</code> 类的测试。</li></ul></li></ol><h2 id="使用javafx-maven-plugin-打包应用程序" tabindex="-1"><a class="header-anchor" href="#使用javafx-maven-plugin-打包应用程序"><span>使用javafx-maven-plugin 打包应用程序</span></a></h2><h3 id="javafx-maven-plugin简介" tabindex="-1"><a class="header-anchor" href="#javafx-maven-plugin简介"><span>javafx-maven-plugin简介</span></a></h3><p>javafx-maven-plugin 插件。这个插件为 JavaFX 项目提供了便捷的构建和打包工具。</p><h3 id="使用javafx-maven-plugin生成native" tabindex="-1"><a class="header-anchor" href="#使用javafx-maven-plugin生成native"><span>使用javafx-maven-plugin生成native</span></a></h3><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>set JAVA_HOME=D:\dev_program\java\jdk1.8.0_121
mvn jfx:native
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="使用javafx-的-jpackage-工具-打包应用程序" tabindex="-1"><a class="header-anchor" href="#使用javafx-的-jpackage-工具-打包应用程序"><span>使用JavaFX 的 jpackage 工具 打包应用程序</span></a></h2><p>关于如何将其打包为 <code>.exe</code>，步骤大致如下：</p><ol><li>使用Maven构建项目并生成JAR文件(java 8)。</li><li>使用JavaFX的jpackage工具打包JAR文件为EXE文件 (java 14)。</li></ol><p><code>jpackage</code> 是 Java 14 及更高版本中提供的一个实验工具，用于为 Java 应用程序创建本地包。以下是如何使用 <code>jpackage</code> 为 JavaFX 应用程序创建一个 Windows <code>.exe</code> 文件的基本步骤：</p><h3 id="_1-准备工作" tabindex="-1"><a class="header-anchor" href="#_1-准备工作"><span>1. 准备工作</span></a></h3><ul><li>安装Java 8 和 Java 14</li><li>确保您的 JDK 版本是 14 或更高版本，并且已经包含 <code>jpackage</code>。</li><li>安装.NET SDK 6,下载地址https://dotnet.microsoft.com/en-us/download/dotnet/thank-you/sdk-6.0.317-windows-x64-installer</li><li>从 https://github.com/wixtoolset/wix3/releases 下载 WiX 3.0 或更高版本，然后将其添加到 PATH。</li></ul><h3 id="安装wix3" tabindex="-1"><a class="header-anchor" href="#安装wix3"><span>安装wix3</span></a></h3><p>WiX Toolset 进行了一些变化，并且它们开始提供一个 .NET Core 工具，这可能是您使用的安装方法。但对于 <code>jpackage</code>，您需要的是传统的 WiX Toolset，它包含 <code>light.exe</code> 和 <code>candle.exe</code>。</p><p>请按照以下步骤操作：</p><ol><li><p><strong>访问 WiX Toolset 的 Releases 页面</strong>:</p><ul><li><a href="https://github.com/wixtoolset/wix3/releases" target="_blank" rel="noopener noreferrer">WiX Toolset Releases<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li><p><strong>下载并安装 WiX Toolset</strong>:</p><ul><li>在 Releases 页面，找到最新的稳定版本。</li><li>下载 <code>.exe</code> 安装程序或 <code>.zip</code> 归档文件。</li><li>如果下载了 <code>.exe</code> 安装程序，直接运行它以安装。如果下载了 <code>.zip</code> 归档文件，解压它到一个适当的目录。</li></ul></li><li><p><strong>将 WiX Toolset 添加到 PATH</strong>:</p><ul><li>找到 WiX Toolset 的安装目录或您解压 <code>.zip</code> 文件的目录。确保这个目录下有 <code>bin</code> 子目录，并且其中包含 <code>light.exe</code> 和 <code>candle.exe</code>。</li><li>将这个 <code>bin</code> 子目录添加到您的系统 <code>PATH</code>。</li></ul></li><li><p><strong>重新运行 jpackage 命令</strong>。</p></li></ol><p>完成这些步骤后，您应该能够使用 <code>jpackage</code> 正确地打包您的应用程序为 <code>.exe</code> 文件。</p><h3 id="_3-创建-javafx-jar" tabindex="-1"><a class="header-anchor" href="#_3-创建-javafx-jar"><span>3. 创建 JavaFX JAR</span></a></h3><p>首先，您需要使用 Maven 构建项目并生成一个可执行的 JAR 文件。在项目根目录中执行以下命令：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">set</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>D:<span class="token punctuation">\</span>dev_program<span class="token punctuation">\</span>java<span class="token punctuation">\</span>jdk1.8.0_121
mvn clean package <span class="token parameter variable">-DskipTests</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>确保 JAR 文件包含所有必要的依赖项并且可以独立运行。</p><h3 id="_4-使用-jpackage-创建-exe-文件" tabindex="-1"><a class="header-anchor" href="#_4-使用-jpackage-创建-exe-文件"><span>4. 使用 jpackage 创建 <code>.exe</code> 文件</span></a></h3><p>以下是一个基本的 <code>jpackage</code> 命令示例，用于将 JavaFX JAR 打包为 <code>.exe</code> 文件：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>jpackage <span class="token parameter variable">--type</span> exe <span class="token parameter variable">--input</span> target/ --main-jar tool-ocr-1.2.6.jar <span class="token parameter variable">--name</span> tree-hole-ocr --main-class com.luooqi.ocr.OcrApp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>其中：</p><ul><li><code>--type exe</code>：指定输出类型为 <code>.exe</code>。</li><li><code>--input target/</code>：指定包含 JAR 文件的目录。</li><li><code>--main-jar</code>：指定要打包的主 JAR 文件。</li><li><code>--name</code>：输出的应用程序名称。</li><li><code>--main-class</code>：指定应用程序的主类。</li><li><code>--win-shortcut</code>：为应用程序创建一个 Windows 快捷方式。</li></ul><p>这只是一个基础示例。<code>jpackage</code> 提供了许多其他选项，例如设置应用程序图标、JVM 参数等。您可以查看 <code>jpackage</code> 的官方文档或使用 <code>jpackage --help</code> 命令查看所有可用选项。</p><p>完成上述步骤后，您应该会在当前目录中得到一个 <code>.exe</code> 文件和一个相应的安装程序。</p><p>注意：这个过程可能需要 JavaFX jmods 文件，您可能需要从 JavaFX 官方网站下载它们，并使用 <code>--module-path</code> 和 <code>--add-modules</code> 选项指定它们。</p><p>最后，如果你想要我为你生成这个 <code>.exe</code> 文件，请告诉我，我会为你完成这个步骤。</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: litongjava@qq.com">litongjava</span><!----><!--]--><!--]--></span></div></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-NAMaFyPy.js" defer></script>
  </body>
</html>
